{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst KEY = '43794074-5ff9b3f6f51ca0335da2b7303';\nconst IMAGE_TYPE = 'photo';\nconst ORIENTATION = 'horizontal';\nconst SAFESEARCH = true;\n\nexport function searchImages(value) {\n  return fetch(\n    `${BASE_URL}?key=${KEY}&q=${value}&image_type=${IMAGE_TYPE}&orientation=${ORIENTATION}&safesearch=${SAFESEARCH}`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = new SimpleLightbox('.gallery-link');\n\nexport const createMarcup = (list, tag) => {\n  const marcup = list\n    .map(image => {\n      return ` <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${image.largeImageURL}\" data-lightbox=\"gallery\">\n    <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n          <ul class=\"stats-block\">\n            <li>\n              <span>Likes</span>\n              <span>${image.likes}</span> \n            </li>\n            <li>\n              <span>Views</span>\n              <span>${image.views}</span>\n            </li>\n            <li>\n              <span>Coments</span>\n              <span>${image.comments}</span>\n            </li>\n            <li>\n              <span>Download</span>\n              <span>${image.downloads}</span>\n            </li>\n          </ul>\n        </a>\n      </li>`;\n    })\n    .join('');\n  tag.insertAdjacentHTML('beforeend', marcup);\n  gallery.refresh();\n};\n","import { searchImages } from './js/pixabay-api';\nimport { createMarcup } from './js/render-functions';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchForm = document.querySelector('#search-form');\nconst galleryList = document.querySelector('#gallery');\nconst loaderEl = document.querySelector('.loader');\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const valueSearch = event.target.elements.searchInput.value.trim();\n\n  if (!valueSearch) {\n    galleryList.innerHTML = '';\n    iziToast.show({\n      message: 'Please enter text to find something!',\n      position: 'topRight',\n      timeout: 2000,\n      color: 'red',\n    });\n    return;\n  }\n\n  galleryList.innerHTML = '';\n  loaderEl.classList.remove('is-hidden');\n\n  searchImages(valueSearch)\n    .then(images => {\n      if (!images.hits.length) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          timeout: 2000,\n          color: 'red',\n        });\n      }\n      searchForm.searchInput.value = '';\n      galleryList.innerHTML = '';\n      createMarcup(images.hits, galleryList);\n      loaderEl.classList.add('is-hidden');\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message:\n          'An error occurred while fetching images. Please try again later.',\n        position: 'topRight',\n        messageColor: '#ffffff',\n        timeout: 3000,\n        backgroundColor: '#ef4040',\n      });\n      loaderEl.classList.add('is-hidden');\n    });\n});\n"],"names":["BASE_URL","KEY","IMAGE_TYPE","ORIENTATION","SAFESEARCH","searchImages","value","response","error","gallery","SimpleLightbox","createMarcup","list","tag","marcup","image","searchForm","galleryList","loaderEl","event","valueSearch","iziToast","images"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAM,qCACNC,EAAa,QACbC,EAAc,aACdC,EAAa,GAEZ,SAASC,EAAaC,EAAO,CAClC,OAAO,MACL,GAAGN,CAAQ,QAAQC,CAAG,MAAMK,CAAK,eAAeJ,CAAU,gBAAgBC,CAAW,eAAeC,CAAU,EAC/G,EACE,KAAKG,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CChBA,MAAMC,EAAU,IAAIC,EAAe,eAAe,EAErCC,EAAe,CAACC,EAAMC,IAAQ,CACzC,MAAMC,EAASF,EACZ,IAAIG,GACI;AAAA,wCAC2BA,EAAM,aAAa;AAAA,sCACrBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,sBAItDA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,sBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,sBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,sBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,YAKhC,EACA,KAAK,EAAE,EACVF,EAAI,mBAAmB,YAAaC,CAAM,EAC1CL,EAAQ,QAAO,CACjB,EC7BMO,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAW,SAAS,cAAc,SAAS,EAEjDF,EAAW,iBAAiB,SAAUG,GAAS,CAC7CA,EAAM,eAAc,EAEpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,YAAY,MAAM,OAE5D,GAAI,CAACC,EAAa,CAChBH,EAAY,UAAY,GACxBI,EAAS,KAAK,CACZ,QAAS,uCACT,SAAU,WACV,QAAS,IACT,MAAO,KACb,CAAK,EACD,MACD,CAEDJ,EAAY,UAAY,GACxBC,EAAS,UAAU,OAAO,WAAW,EAErCb,EAAae,CAAW,EACrB,KAAKE,GAAU,CACTA,EAAO,KAAK,QACfD,EAAS,KAAK,CACZ,QACE,2EACF,SAAU,WACV,QAAS,IACT,MAAO,KACjB,CAAS,EAEHL,EAAW,YAAY,MAAQ,GAC/BC,EAAY,UAAY,GACxBN,EAAaW,EAAO,KAAML,CAAW,EACrCC,EAAS,UAAU,IAAI,WAAW,CACxC,CAAK,EACA,MAAMV,GAAS,CACda,EAAS,MAAM,CACb,MAAO,QACP,QACE,mEACF,SAAU,WACV,aAAc,UACd,QAAS,IACT,gBAAiB,SACzB,CAAO,EACDH,EAAS,UAAU,IAAI,WAAW,CACxC,CAAK,CACL,CAAC"}